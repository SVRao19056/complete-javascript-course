{"version":3,"sources":["../../../src/js/models/Search.js"],"names":["Search","query","options","proxy","key","url","apiErr","console","log","axios","get","res","result","data","recipes","JSON","parse"],"mappings":";;;;;;;;AACA;;;;;;;;;;IACqBA,M;AAEjB,oBAAYC,KAAZ,EAA+B;AAAA,YAAXC,OAAW,uEAAH,EAAG;;AAAA;;AAC3B,aAAKD,KAAL,GAAaA,KAAb;AACH;;;;;;;;;;;AAGG;AACME,qC,GAAQ,qC;AACRC,mC,GAAM,kC;AACNC,mC,GAAM,qC;AACRC,sC;;;AAEAC,wCAAQC,GAAR,CAAeH,GAAf,cAA2BD,GAA3B,WAAoC,KAAKH,KAAzC;;uCACeQ,gBAAMC,GAAN,CAAaP,KAAb,SAAsBE,GAAtB,cAAkCD,GAAlC,WAA2C,KAAKH,KAAhD,C;;;AAAbU,mC;;AACJJ,wCAAQC,GAAR,CAAYG,GAAZ;AACA,qCAAKC,MAAL,GAAcD,IAAIE,IAAJ,CAASC,OAAT,IAAoBH,IAAIE,IAAtC;AACAN,wCAAQC,GAAR,CAAYI,MAAZ;AACAL,wCAAQC,GAAR,CAAa,CAACI,MAAD,IAAW,CAACD,IAAIE,IAAJ,CAASC,OAAlC;AACA,oCAAI,CAACF,MAAD,IAAW,CAACD,IAAIE,IAAJ,CAASC,OAAzB,EACA;AACI,yCAAKF,MAAL,GAAcG,KAAKC,KAAL,2gBAAd;AAWH;AACDT,wCAAQC,GAAR,CAAY,KAAKI,MAAjB;;;;;;;;;AAGEN;;;AAEJC,wCAAQC,GAAR,QAAiBF,MAAD,cAAmBA,MAAnB,GAA4B,QAA5C;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;kBA1CaN,M","file":"Search.js","sourcesContent":["\r\nimport axios from 'axios';\r\nexport default class Search{\r\n  \r\n    constructor(query , options={}){\r\n        this.query = query\r\n    }\r\n   \r\n    async GetResults(){\r\n        //const proxy = 'http://crossorigin.me'\r\n        const proxy = 'https://cors-anywhere.herokuapp.com'\r\n        const key = '185642ca82ffb6918b7b29c4d3e68f46'\r\n        const url = 'http://www.food2fork.com/api/search'\r\n        let apiErr;\r\n        try{\r\n            console.log(`${url}/?key=${key}&q=${this.query}`)\r\n          let res =  await axios.get(`${proxy}/${url}/?key=${key}&q=${this.query}`);\r\n          console.log(res);\r\n          this.result = res.data.recipes || res.data;\r\n          console.log(result);\r\n          console.log((!result && !res.data.recipes));\r\n          if (!result && !res.data.recipes)\r\n          {\r\n              this.result = JSON.parse( `{\r\n                \"count\": 1, \r\n                \"recipes\": [{\r\n                \"publisher\": \"Allrecipes.com\",\r\n                \"social_rank\": 99.81007979198002, \r\n                \"f2f_url\": \"https://www.food2fork.com/recipes/view/29159\", \r\n                \"publisher_url\": \"http://allrecipes.com\", \r\n                \"title\": \"Slow-Cooker Chicken Tortilla Soup\", \r\n                \"source_url\": \"http://allrecipes.com/Recipe/Slow-Cooker-Chicken-Tortilla-Soup/Detail.aspx\",\r\n                \"page\":1}]\r\n                }`)\r\n          }\r\n          console.log(this.result);\r\n          \r\n         }catch(err){\r\n            apiErr = err;\r\n               }\r\n        console.log(` ${(apiErr)? `Error-${apiErr}`:'Sucess'}`)\r\n        //   return {\r\n        //     err: apiErr,  \r\n        //     result: result\r\n        //   } \r\n        }\r\n}"]}